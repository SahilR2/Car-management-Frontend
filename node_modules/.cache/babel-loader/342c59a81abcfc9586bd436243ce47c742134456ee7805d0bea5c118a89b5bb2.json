{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{getProduct,updateProduct,deleteProduct}from\"../services/api\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CarDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[car,setCar]=useState(null);const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");useEffect(()=>{const fetchCar=async()=>{try{const{data}=await getProduct(id);setCar(data);setTitle(data.title);setDescription(data.description);}catch(error){console.error(\"Error fetching car\",error);}};fetchCar();},[id]);const handleUpdate=async()=>{try{await updateProduct(id,{title,description});navigate(\"/product-list\");}catch(error){console.error(\"Error updating car\",error);}};const handleDelete=async()=>{try{await deleteProduct(id);navigate(\"/product-list\");}catch(error){console.error(\"Error deleting car\",error);}};if(!car)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:car.title}),/*#__PURE__*/_jsx(\"img\",{src:car.images[0],alt:car.title,className:\"img-fluid\"}),/*#__PURE__*/_jsx(\"p\",{children:car.description}),/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Car\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:e=>setTitle(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:description,onChange:e=>setDescription(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-2\",children:\"Update\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"btn btn-danger mt-2\",children:\"Delete\"})]});};export default CarDetail;","map":{"version":3,"names":["React","useState","useEffect","getProduct","updateProduct","deleteProduct","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","CarDetail","id","navigate","car","setCar","title","setTitle","description","setDescription","fetchCar","data","error","console","handleUpdate","handleDelete","children","className","src","images","alt","onSubmit","type","value","onChange","e","target","onClick"],"sources":["D:/MY PROJECTS/car-management/client/src/component/CarDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getProduct, updateProduct, deleteProduct } from \"../services/api\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst CarDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [car, setCar] = useState(null);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchCar = async () => {\r\n      try {\r\n        const { data } = await getProduct(id);\r\n        setCar(data);\r\n        setTitle(data.title);\r\n        setDescription(data.description);\r\n      } catch (error) {\r\n        console.error(\"Error fetching car\", error);\r\n      }\r\n    };\r\n    fetchCar();\r\n  }, [id]);\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await updateProduct(id, { title, description });\r\n      navigate(\"/product-list\");\r\n    } catch (error) {\r\n      console.error(\"Error updating car\", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await deleteProduct(id);\r\n      navigate(\"/product-list\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting car\", error);\r\n    }\r\n  };\r\n\r\n  if (!car) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>{car.title}</h2>\r\n      <img src={car.images[0]} alt={car.title} className=\"img-fluid\" />\r\n      <p>{car.description}</p>\r\n\r\n      <h3>Edit Car</h3>\r\n      <form onSubmit={handleUpdate}>\r\n        <div className=\"form-group\">\r\n          <label>Title</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Description</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary mt-2\">Update</button>\r\n      </form>\r\n\r\n      <button onClick={handleDelete} className=\"btn btn-danger mt-2\">Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CarDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}